# Сourse Databases


## Описание проекта
Данный репозиторий представляет собой коллекцию решений задач по SQL с использованием **PostgreSQL**. Здесь собраны различные задачи, охватывающие создание, наполнение и манипуляцию данными.

## Цель и задачи
Цель: освоение и совершенствование навыков работы с PostgreSQL.
Для достижения цели выполнены следущие задачи:
- Быстрое развертывание PostgreSQL с помощью Docker.
- Автоматическая инициализация структуры баз данных без необходимости ручных действий.
- Написаны SQL-запросы различной сложности для решения типовых задач представленных в обучающем курсе. Использовались Оконные и агрегатные функции, рекурсивные запросы.

## Структура репозитория
Директория `init` - содержит скрипты создания баз данных, создания и наполнения таблиц.    
Директория `solutions` - содержит SQL-запросы для решения задач. Сложные скрипты содержат комментарии описывающие их работу.  
Всего используется 4 типа заданий. Задачи о транспортных средствах `vehicles`, гонках `races`, бронированию отелей `booking` и структуре организации `org_structure.`

## Запуск проекта и выполнение запросов

Для запуска проекта используется `Docker`. Запустите PostgreSQL следующей командой.
```
docker run \
  -d \
  --rm \
  --name postgres17-db \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=postgres \
  -v $(pwd)/init:/docker-entrypoint-initdb.d \
  -v $(pwd)/solutions:/solutions \
  -p 5433:5432 \
  postgres:17
```

Эта команда скачает и запустит PostgreSQL 17 версии, а так же запустит скрипты инициализации идз директории `init`.  Можно приступать к выполнению запросов из директории `solutions`

Для выполнения запросов можно выполнить следующую команду
```
docker exec -it postgres17-db psql -U postgres
```
или использовать любой совместимый клиент. Подключаться на `127.0.0.1` port `5433`.



```sql
\c <database_name>
\i solutions/<script_name>
```

Например:
```sql
\c task1
\i solutions/10_vehicles_task1.sql
```
